
<div>
    <div class="modal-header">
        <button type="button" class="close" ng-click="$dismiss('aborted')">x</button>
        <h2>Test Template {{template.name}}</h2>
    </div>

    <div class="modal-body">
        <p>
            Specify a message series id and click Test to see the content generated by the current template.
        </p>

        <form name="test_form">

            <div class="form-controls">

                <div class="form-group row">
                    <div class="col-xs-12 col-sm-8 col-md-6 col-lg-4">
                        <label>Message Series ID</label>
                        <input type="text" name="idfield" class="form-control input-sm" placeholder="Message Series ID" ng-model="messageId"  msi-message-id-editor />
                    </div>
                </div>

                <div class="form-group">
                    <msi-template-param-data parameters="template.parameters" data="paramData" params-valid="paramsValid"></msi-template-param-data>
                </div>

                <div class="form-group">
                    <label>Field Results</label>
                    <div>
                        <tabset class="field-templates">
                            <tab ng-repeat="tmpl in template.fieldTemplates" heading="{{tmpl.field}}:{{tmpl.lang}}">
                                <div class="field-template">
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <textarea class="field-template-editor" ng-model="tmpl.result" ng-if="!tmpl.error"
                                                      spellcheck="false" disabled="disabled"></textarea>
                                            <textarea class="field-template-editor" ng-model="tmpl.error" ng-if="tmpl.error"
                                                      style="color: #ff0000" spellcheck="false" disabled="disabled"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </tab>
                        </tabset>
                    </div>
                </div>

            </div>

            <div class="form-group">
                <div style="margin-top: 24px">
                    <button class="btn btn-sm" ng-click="$dismiss('aborted')">Close</button>
                    <button class="btn btn-primary btn-sm" ng-disabled="!(messageId && test_form.idfield.$valid && paramsValid)"
                            style="float: right;" ng-click="test(messageId)">Test</button>
                </div>
            </div>
        </form>
    </div>
</div>

